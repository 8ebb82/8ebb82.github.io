<!DOCTYPE html>
<html lang="zh-cn">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>menu æ§ä»¶ | xici&#39;s Web Note</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
    mermaid.initialize({ startOnLoad: true });
</script>
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/posts/">æ–‡ç« </a></li>
      
      <li><a href="/tags/">æ ‡ç­¾</a></li>
      
      <li><a href="/categories/">åˆ†ç±»</a></li>
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
    <h1>
        <span class="title">
            menu æ§ä»¶
        </span>
    </h1>
    
    <h2 class="date">2025/03/15</h2>
    
</div>

<main>
    <h2 id="13218">1:32:18</h2>
<h1 id="menu-æ§ä»¶">menu æ§ä»¶</h1>
<p>è¿™é‡Œçš„ menu æ§ä»¶æ˜¯æŒ‡æ ‡é¢˜æ å³ä¸Šè§’çš„èœå•æŒ‰é’®ã€‚</p>
<p>åœ¨ <code>res/menu</code> æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª xml æ–‡ä»¶ï¼Œå¦‚ <code>main.xml</code>ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;menu</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;item</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/add_item&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:title=</span><span style="color:#e6db74">&#34;Add&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;item</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/remove_item&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:title=</span><span style="color:#e6db74">&#34;Remove&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/menu&gt;</span>
</span></span></code></pre></div><p>åœ¨ Activity ä¸­é‡å†™ <code>onCreateOptionsMenu</code> æ–¹æ³•ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">onCreateOptionsMenu</span>(menu: Menu?): Boolean {
</span></span><span style="display:flex;"><span>    menuInflater.inflate(<span style="color:#a6e22e">R</span>.menu.main, menu) 
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// menuInflater è¿™ä¸€éƒ¨åˆ†å…¶å®æ˜¯ kotlin çš„è¯­æ³•ç³–ï¼Œå·²ç»è‡ªåŠ¨è°ƒç”¨äº† getter æ–¹æ³•
</span></span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* inflate æ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    ç¬¬ä¸€ä¸ªæ˜¯ menu å¸ƒå±€èµ„æºæ–‡ä»¶ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    ç¬¬äºŒä¸ªæ˜¯è¦è®¾ç½®è¿™ä¸ªå¸ƒå±€çš„ menu å¯¹è±¡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    ï¼ˆä»å“ªé‡Œæ¥åˆ°å“ªé‡Œå»ï¼‰*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// è¿”å› true è¡¨ç¤ºèœå•å…è®¸èœå•æ˜¾ç¤º
</span></span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ä¹‹ååœ¨ Activity ä¸­é‡å†™ <code>onOptionsItemSelected</code> æ–¹æ³•å¯ä»¥è‡ªå®šä¹‰èœå•é€‰é¡¹å“åº”äº‹ä»¶ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">onOptionsItemSelected</span>(item: MenuItem): Boolean {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">when</span>(item.itemId){
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">R</span>.id.add_item <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">Toast</span>.makeText(<span style="color:#66d9ef">this</span>, <span style="color:#e6db74">&#34;add item&#34;</span>,<span style="color:#a6e22e">Toast</span>.LENGTH_SHORT).show()
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">R</span>.id.remove_item <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">Toast</span>.makeText(<span style="color:#66d9ef">this</span>,<span style="color:#e6db74">&#34;remove item&#34;</span>,<span style="color:#a6e22e">Toast</span>.LENGTH_SHORT).show()
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="æ˜¾ç¤ºtoast">æ˜¾ç¤ºToast</h2>
<p><code>makeText()</code> æ–¹æ³•çš„å‚æ•°ï¼š</p>
<ol>
<li>ä¸Šä¸‹æ–‡</li>
<li>toastå†…å®¹ï¼ˆå­—ç¬¦ä¸²ï¼‰</li>
<li>æ˜¾ç¤ºæ—¶é•¿</li>
</ol>
<p>æœ€åå†è°ƒç”¨ <code>show()</code> æ–¹æ³•å³å¯ã€‚</p>
<h1 id="æ²¡æœ‰æ ‡é¢˜æ ">æ²¡æœ‰æ ‡é¢˜æ </h1>
<p>åœ¨ç¡®ä¿ <code>res/values/styles.xml</code> æ–‡ä»¶ä¸­çš„ <code>AppTheme</code> ä¸»é¢˜ä¸­è®¾ç½®äº†æ ‡é¢˜æ çš„æƒ…å†µä¸‹ï¼š</p>
<ul>
<li>å¦‚æœä½¿ç”¨ <code>ComponentActivity</code> ä½œä¸ºæ´»åŠ¨çš„çˆ¶ç±»ï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½®æ ‡é¢˜æ ã€‚</li>
<li>ä½¿ç”¨ <code>AppCompatActivity</code> ä½œä¸ºæ´»åŠ¨çš„çˆ¶ç±»ï¼Œå¯ä»¥è‡ªåŠ¨è®¾ç½®æ</li>
</ul>

</main>

  <footer>
  
  
  <hr/>
  Â© 2026 xici&rsquo;s Web Note. Powered by <a href="https://gohugo.io">Hugo</a>.
  
  </footer>
  </body>
</html>
